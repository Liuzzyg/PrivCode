{"problem": "You are tasked with implementing a custom text formatter in Python. Your text formatter should be able to format text by replacing specific placeholders with corresponding values. The placeholders will be enclosed in curly braces and will consist of alphanumeric characters and underscores only. For example, `{name}` could be a placeholder that needs to be replaced with the actual name.\n\nYour task is to implement the `CustomTextFormatter` class with the following specifications:\n\n- The class should have a method `add_mapping(key, value)` that allows adding a mapping of a placeholder key to its corresponding value.\n- The class should have a method `format_text(text)` that takes a string `text` as input and replaces all occurrences of placeholders with their corresponding values. If a placeholder does not have a mapping, it should remain unchanged in the formatted text.\n- The class should raise a `KeyError` if the `format_text` method encounters a placeholder that does not have a mapping.\n\nYou should also implement the `CustomTextFormatter` class in a way that it can handle nested placeholders. For example, if the text is `Hello {title_{gender}} {name}`, and the mappings are `{title_Mr: \"Mr.\", title_Ms: \"Ms.\", name: \"Smith\", gender: \"Ms\"}`, the formatted text should be `Hello Ms. Smith`.\n\nYou can assume that the input text and the mappings will only contain ASCII characters.\n\nExample:\n\n```python\nformatter = CustomTextFormatter()\nformatter.add_mapping(\"name\", \"Alice\")\nformatter.add_mapping(\"age\", \"25\")\nformatted_text = formatter.format_text(\"Hello, my name is {name} and I am {age} years old.\")\nprint(formatted_text)  # Output: \"Hello, my name is Alice and I am 25 years old.\"\n```", "solution": "```python\nclass CustomTextFormatter:\n    def __init__(self):\n        self.mappings = {}\n\n    def add_mapping(self, key, value):\n        self.mappings[key] = value\n\n    def replace_placeholders(self, text):\n        for key, value in self.mappings.items():\n            placeholder = \"{\" + key + \"}\"\n            text = text.replace(placeholder, value)\n        return text\n\n    def format_text(self, text):\n        formatted_text = text\n        while True:\n            replaced_text = self.replace_placeholders(formatted_text)\n            if replaced_text == formatted_text:\n                break\n            formatted_text = replaced_text\n        if \"{\" in formatted_text or \"}\" in formatted_text:\n            raise KeyError(\"Unmapped placeholder found\")\n        return formatted_text\n\n# Example usage\nformatter = CustomTextFormatter()\nformatter.add_mapping(\"name\", \"Alice\")\nformatter.add_mapping(\"age\", \"25\")\nformatted_text = formatter.format_text(\"Hello, my name is {name} and I am {age} years old.\")\nprint(formatted_text)  # Output: \"Hello, my name is Alice and I am 25 years old.\"\n```"}
{"problem": "You are tasked with implementing a utility module for a larger software project. The `utils` module should contain various helper functions and classes that can be used throughout the project. Your task is to create a Python module named `utils.py` and implement the following functions and classes:\n\n1. `calculate_average`: A function that takes a list of numbers as input and returns the average of those numbers.\n2. `Person` class: A class that represents a person with attributes `name` and `age`. It should have a method `greet` that prints a greeting message including the person's name.\n\nYour implementation should be able to be imported and used in other Python files.", "solution": "```python\n# utils.py\n\ndef calculate_average(numbers):\n    \"\"\"\n    Calculate the average of a list of numbers.\n\n    Args:\n    numbers (list): A list of numbers.\n\n    Returns:\n    float: The average of the input numbers.\n    \"\"\"\n    if not numbers:\n        return 0\n    return sum(numbers) / len(numbers)\n\n\nclass Person:\n    \"\"\"\n    A class to represent a person with name and age attributes.\n    \"\"\"\n\n    def __init__(self, name, age):\n        \"\"\"\n        Initialize a Person object with name and age.\n\n        Args:\n        name (str): The name of the person.\n        age (int): The age of the person.\n        \"\"\"\n        self.name = name\n        self.age = age\n\n    def greet(self):\n        \"\"\"\n        Print a greeting message including the person's name.\n        \"\"\"\n        print(f\"Hello, my name is {self.name}. Nice to meet you!\")\n```\n\nThis solution provides a Python module `utils.py` containing the `calculate_average` function and the `Person` class as per the problem description. The `calculate_average` function calculates the average of a list of numbers, and the `Person` class represents a person with a `greet` method for printing a greeting message."}
{"problem": "You are tasked with implementing a function that processes a given string and returns a modified version of the string based on certain rules. The function should take a string as input and return a new string with specific modifications applied.\n\nThe function should perform the following operations on the input string:\n1. Replace all occurrences of the substring \"$$name\" with the actual name of the user, which will be provided as an argument to the function.\n2. If the input string does not contain \"$$name\", it should remain unchanged.\n\nYour task is to implement the function `processString` that takes two parameters:\n- `inputString` (a string): The input string that may contain the substring \"$$name\".\n- `userName` (a string): The actual name of the user.\n\nThe function should return the modified string after applying the rules mentioned above.\n\nFunction signature: \n```python\ndef processString(inputString: str, userName: str) -> str:\n    # Your implementation\n```\n\nExample:\n```python\ninputString = \"Hello, my name is $$name. Welcome!\"\nuserName = \"Alice\"\noutput = processString(inputString, userName)\n# The value of output should be \"Hello, my name is Alice. Welcome!\"\n```", "solution": "```python\ndef processString(inputString: str, userName: str) -> str:\n    return inputString.replace(\"$$name\", userName)\n```\n\nThe `processString` function simply uses the `replace` method to replace all occurrences of \"$$name\" with the actual user name provided as an argument. If the input string does not contain \"$$name\", the original string is returned unchanged. This solution effectively implements the required modifications to the input string based on the specified rules."}
{"problem": "You are tasked with creating a program to manage a family tree. Your goal is to implement a class `FamiliaMembro` that represents a member of a family. The `FamiliaMembro` class should have the following properties and methods:\n\nProperties:\n- `nome`: a string representing the name of the family member\n- `idade`: an integer representing the age of the family member\n- `relacionamento`: a string representing the relationship of the family member to the head of the family (e.g., \"parent\", \"child\", \"sibling\")\n\nMethods:\n- `apresentar()`: a method that returns a string with the format \"Hello, my name is [nome] and I am [idade] years old. I am the [relacionamento].\"\n\nYour task is to implement the `FamiliaMembro` class with the specified properties and methods.\n\nExample:\n```javascript\nconst pai = new FamiliaMembro(\"John\", 40, \"parent\");\nconsole.log(pai.apresentar()); // Output: \"Hello, my name is John and I am 40 years old. I am the parent.\"\n```", "solution": "```javascript\nclass FamiliaMembro {\n  constructor(nome, idade, relacionamento) {\n    this.nome = nome;\n    this.idade = idade;\n    this.relacionamento = relacionamento;\n  }\n\n  apresentar() {\n    return `Hello, my name is ${this.nome} and I am ${this.idade} years old. I am the ${this.relacionamento}.`;\n  }\n}\n\nconst pai = new FamiliaMembro(\"John\", 40, \"parent\");\nconsole.log(pai.apresentar()); // Output: \"Hello, my name is John and I am 40 years old. I am the parent.\"\n```"}
{"problem": "You are tasked with implementing a Python function that performs string substitution based on a given dictionary of key-value pairs. The function should take in a string and a dictionary, and replace any occurrences of the keys in the string with their corresponding values from the dictionary. If a key is not found in the dictionary, it should remain unchanged in the output string.\n\nYou need to implement the function `perform_substitution(input_string, substitution_dict)` where:\n- `input_string` (string) is the input string in which substitutions need to be performed.\n- `substitution_dict` (dict) is a dictionary containing key-value pairs for substitution.\n\nThe function should return the input string with the substitutions applied.\n\nEnsure that the function handles cases where the input string is empty or the substitution dictionary is empty.\n\nNote:\n- The input string will only contain alphabets and spaces.\n- The substitution dictionary will only contain alphabets as keys and values.\n\nExample:\n```python\nperform_substitution(\"Hello, my name is {name}. I am {age} years old.\", {\"{name}\": \"Alice\", \"{age}\": \"25\"})\n```\nOutput:\n```\n\"Hello, my name is Alice. I am 25 years old.\"\n```", "solution": "```python\ndef perform_substitution(input_string, substitution_dict):\n    if not input_string or not substitution_dict:\n        return input_string\n\n    for key, value in substitution_dict.items():\n        input_string = input_string.replace(key, value)\n\n    return input_string\n```"}
{"problem": "You are tasked with creating a script that takes user input and uses it to construct a personalized greeting message. Your script should take a user's name as input and then use it to echo a greeting message. The script should be written in Bash.\n\nYour task is to write a Bash script that takes a user's name as input and uses it to construct a greeting message. The script should then echo the personalized greeting message.\n\nYour script should follow these requirements:\n- It should take the user's name as input.\n- It should construct a greeting message using the input name.\n- It should echo the personalized greeting message.\n\nExample:\nIf the user inputs \"Alice\", the script should echo \"Hi my name is Alice\".", "solution": "```bash\n#!/bin/bash\n\nread -p \"Enter your name: \" INPUT_MY_NAME\necho \"Hi my name is $INPUT_MY_NAME\"\n```\n\nThe solution is a Bash script that accomplishes the task as described in the problem. It first prompts the user to enter their name using the `read` command. Then, it constructs a greeting message using the input name and echoes the personalized greeting message using `echo`."}
{"problem": "You are tasked with creating a function that takes a list of strings as input and returns a new list containing the same strings, but with a specific transformation applied. The transformation involves replacing a placeholder string \"%NAME%\" with a user-provided name in each of the input strings. Your task is to implement the function `replace_name_placeholder(input_list: List[str], name: str) -> List[str]` to achieve this transformation.\n\nFor example, given the input list `[\"Hello, %NAME%\", \"My name is %NAME%\", \"Welcome, %NAME%\"]` and the name \"Alice\", the function should return `[\"Hello, Alice\", \"My name is Alice\", \"Welcome, Alice\"]`.\n\nYour task is to implement the `replace_name_placeholder` function to perform this transformation.", "solution": "```python\nfrom typing import List\n\ndef replace_name_placeholder(input_list: List[str], name: str) -> List[str]:\n    return [s.replace(\"%NAME%\", name) for s in input_list]\n```\nThe `replace_name_placeholder` function takes a list of strings `input_list` and a string `name` as input. It uses a list comprehension to iterate through each string in the input list and replaces the placeholder \"%NAME%\" with the provided name using the `replace` method. The transformed list of strings is then returned as the output."}
{"problem": "You are tasked with implementing a Swift protocol and a class to model users and their twin counterparts. The `UserProtocol` defines the blueprint for a user, and the `User` class implements this protocol while also defining a type alias `TwinType` to represent the twin counterpart of a user.\n\nYour task is to complete the implementation of the `User` class by adding properties and methods as per the protocol requirements, and to define the `TwinType` typealias to establish the relationship between users and their twins.\n\nThe `UserProtocol` is defined as follows:\n```swift\nprotocol UserProtocol {\n    var username: String { get }\n    var age: Int { get }\n    func greet() -> String\n}\n```\n\nYou need to implement the `User` class to conform to the `UserProtocol` and define the `TwinType` typealias. Additionally, you should add the following properties and methods to the `User` class:\n- `username` (String): The username of the user.\n- `age` (Int): The age of the user.\n- `init(username: String, age: Int)`: A designated initializer to set the username and age of the user.\n- `greet() -> String`: A method that returns a greeting message including the username.\n\nDefine the `TwinType` typealias to represent the twin counterpart of a user. The `TwinType` should be an alias for a type that represents the twin of a user.", "solution": "```swift\npublic final class User: UserProtocol {\n    typealias TwinType = User\n    \n    var username: String\n    var age: Int\n    \n    init(username: String, age: Int) {\n        self.username = username\n        self.age = age\n    }\n    \n    func greet() -> String {\n        return \"Hello, my name is \\(username).\"\n    }\n}\n```"}
{"problem": "You are tasked with implementing a function toTitleCase that converts a given string to title case. Title case means that the first letter of each word in the string should be capitalized, while the rest of the letters should be in lowercase. The function should handle strings with random cases, ensuring that the first letter of each word is capitalized and the rest are in lowercase.\n\nThe function signature is:\n```javascript\nfunction toTitleCase(str) {\n    // Your implementation here\n}\n```\n\nFor example:\n- toTitleCase('MY NAME IS QARUN') should return 'My Name Is Qarun'\n- toTitleCase('mY nAmE Is qarUn') should return 'My Name Is Qarun'\n\nYou can assume that the input string will only contain alphabetic characters and spaces. The words in the input string are separated by spaces, and there are no leading or trailing spaces.", "solution": "```javascript\nfunction toTitleCase(str) {\n    return str.toLowerCase().replace(/\\b\\w/g, function(char) {\n        return char.toUpperCase();\n    });\n}\n```\n\nThe toTitleCase function first converts the entire input string to lowercase using the toLowerCase method. Then, it uses the replace method with a regular expression /\\b\\w/g to match the first character of each word in the string. The replace method's callback function is used to convert the matched character to uppercase using the toUpperCase method. This effectively capitalizes the first letter of each word in the string, while the rest of the letters remain in lowercase. The modified string is then returned as the result."}
{"problem": "You are given a class `Person` representing a person's details. The class has the following attributes:\n- `name`: a string representing the person's name\n- `age`: an integer representing the person's age\n- `gender`: a string representing the person's gender\n\nYou need to implement a method `introduce` in the `Person` class that returns a string introducing the person with their name, age, and gender. The introduction should follow the format: \"Hello, my name is [name], I am [age] years old, and I am a [gender].\"\n\nYou should also create a subclass `Student` that inherits from the `Person` class. The `Student` class should have an additional attribute:\n- `student_id`: an integer representing the student's ID\n\nThe `Student` class should also have a method `study` that returns a string indicating the student is studying.\n\nImplement the `Person` and `Student` classes with the required methods.\n\nExample:\n```python\nperson = Person(\"Alice\", 25, \"female\")\nprint(person.introduce())  # Output: \"Hello, my name is Alice, I am 25 years old, and I am a female.\"\n\nstudent = Student(\"Bob\", 20, \"male\", 12345)\nprint(student.introduce())  # Output: \"Hello, my name is Bob, I am 20 years old, and I am a male.\"\nprint(student.study())  # Output: \"I am studying.\"\n```", "solution": "```python\nclass Person:\n    def __init__(self, name, age, gender):\n        self.name = name\n        self.age = age\n        self.gender = gender\n\n    def introduce(self):\n        return f\"Hello, my name is {self.name}, I am {self.age} years old, and I am a {self.gender}.\"\n\n\nclass Student(Person):\n    def __init__(self, name, age, gender, student_id):\n        super().__init__(name, age, gender)\n        self.student_id = student_id\n\n    def study(self):\n        return \"I am studying.\"\n\n\n# Test the classes\nperson = Person(\"Alice\", 25, \"female\")\nprint(person.introduce())  # Output: \"Hello, my name is Alice, I am 25 years old, and I am a female.\"\n\nstudent = Student(\"Bob\", 20, \"male\", 12345)\nprint(student.introduce())  # Output: \"Hello, my name is Bob, I am 20 years old, and I am a male.\"\nprint(student.study())  # Output: \"I am studying.\"\n```"}
{"problem": "You are tasked with implementing a Python function that takes an object as input and returns a dictionary containing the object's attributes as keys and their corresponding values. If the attribute is a method, the dictionary should contain the string \"method\" as the value for that attribute.\n\nThe function signature is:\n```python\ndef object_attributes(obj):\n    pass\n```\n\nFor example, given the following class definition:\n```python\nclass Example:\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n\n    def greet(self):\n        return f\"Hello, my name is {self.name} and I am {self.age} years old.\"\n```\n\nThe function `object_attributes` should behave as follows:\n```python\nobj = Example(\"Alice\", 25)\nprint(object_attributes(obj))\n# Output: {'name': 'Alice', 'age': 25, 'greet': 'method'}\n```", "solution": "```python\ndef object_attributes(obj):\n    attributes = {}\n    for attr_name in dir(obj):\n        if not attr_name.startswith(\"__\"):  # Exclude built-in attributes\n            attr_value = getattr(obj, attr_name)\n            if callable(attr_value):  # Check if the attribute is a method\n                attributes[attr_name] = \"method\"\n            else:\n                attributes[attr_name] = attr_value\n    return attributes\n```"}
{"problem": "You are tasked with creating a Python function that performs a specific text substitution based on a given dictionary of key-value pairs. The function should take two parameters: a string of text and a dictionary of substitutions. For each key-value pair in the dictionary, the function should replace all occurrences of the key in the text with the corresponding value. However, the replacement should only occur if the key is followed by a space, ensuring that only exact name matches are replaced.\n\nWrite a function `perform_substitutions(text, substitutions)` that takes a string `text` and a dictionary `substitutions` as input and returns the modified text after performing the substitutions.\n\nExample:\n```python\ntext = \"Hello, my name is John. I like John's car.\"\nsubstitutions = {\"John\": \"Peter\", \"car\": \"bike\"}\nprint(perform_substitutions(text, substitutions))\n```\nOutput:\n```\nHello, my name is Peter. I like John's bike.\n```", "solution": "```python\ndef perform_substitutions(text, substitutions):\n    for key, value in substitutions.items():\n        text = text.replace(\"{0} \".format(key), u\"\\xb7{0} \".format(value))  # added a trailing space to only replace exact name matches\n    return text\n```\n\nThe `perform_substitutions` function iterates through each key-value pair in the `substitutions` dictionary and replaces all occurrences of the key followed by a space in the `text` with the corresponding value followed by a space. The modified text is then returned as the result."}
{"problem": "You are tasked with implementing a Python function that processes a dictionary of template variables and a string representing a form. The function should replace placeholders in the form string with the corresponding values from the template variables. Placeholders are denoted by enclosing the variable name in curly braces. If a placeholder does not have a corresponding key in the template variables, it should remain unchanged in the form string.\n\nWrite a function `process_form` that takes two parameters:\n- `tvars` (dict): A dictionary containing template variables with their values.\n- `form` (str): A string representing a form with placeholders.\n\nThe function should return the form string with the placeholders replaced by their corresponding values from the template variables.\n\nExample:\n```python\ntvars = {'name': 'John', 'age': 25}\nform = \"Hello, my name is {name} and I am {age} years old.\"\nprint(process_form(tvars, form))  # Output: \"Hello, my name is John and I am 25 years old.\"\n```", "solution": "```python\ndef process_form(tvars, form):\n    for key, value in tvars.items():\n        form = form.replace(\"{\" + key + \"}\", str(value))\n    return form\n```"}
{"problem": "You are tasked with implementing a simple class in Python to represent a person's name and age. Your task is to create a class `Person` with the following requirements:\n- The class should have a constructor that takes two parameters: `name` (a string) and `age` (an integer).\n- The class should have a method `introduce` that returns a string in the format \"My name is [name] and I am [age] years old.\"\n\nYour task is to complete the implementation of the `Person` class according to the given requirements.\n\n```python\nclass Person:\n    def __init__(self, name, age):\n        # Your code here\n\n    def introduce(self):\n        # Your code here\n```", "solution": "```python\nclass Person:\n    def __init__(self, name, age):\n        self._name = name\n        self._age = age\n\n    def introduce(self):\n        return f\"My name is {self._name} and I am {self._age} years old.\"\n```\nIn the solution, the `Person` class is defined with a constructor that initializes the `name` and `age` attributes, and a method `introduce` that returns a formatted string containing the person's name and age."}
{"problem": "You are tasked with creating a program that converts Perl 6 code to Ruby using the Perlito6 compiler. The Perlito6 compiler is a tool that translates Perl 6 code into various target languages, including Ruby. Your goal is to write a Perl 6 program and then use the Perlito6 compiler to generate the equivalent Ruby code.\n\nWrite a Perl 6 program that defines a class `Person` with attributes `name` and `age`, a constructor method to initialize these attributes, and a method `greet` that prints a greeting message including the person's name and age.\n\nOnce you have written the Perl 6 program, use the Perlito6 compiler to convert the Perl 6 code to Ruby code. The resulting Ruby code should maintain the same functionality as the original Perl 6 program.", "solution": "Perl 6 Program:\n```perl\nclass Person {\n    has $.name;\n    has $.age;\n\n    method new($name, $age) {\n        self.bless(:$name, :$age);\n    }\n\n    method greet() {\n        say \"Hello, my name is {$!name} and I am {$!age} years old.\";\n    }\n}\n\nmy $person = Person.new(\"Alice\", 25);\n$person.greet();\n```\n\nRuby Code (Generated by Perlito6 Compiler):\n```ruby\nclass Person\n  attr_accessor :name, :age\n\n  def initialize(name, age)\n    @name = name\n    @age = age\n  end\n\n  def greet\n    puts \"Hello, my name is #{@name} and I am #{@age} years old.\"\n  end\nend\n\nperson = Person.new(\"Alice\", 25)\nperson.greet\n```"}
