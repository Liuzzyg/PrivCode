{"problem": "You are tasked with creating a TypeScript class that utilizes the Google Libphonenumber library to validate and format phone numbers. The Google Libphonenumber library provides functionality to parse, format, and validate international phone numbers. Your task is to create a TypeScript class that encapsulates the functionality of the Google Libphonenumber library for phone number validation and formatting.\n\nYour class should have the following requirements:\n1. Import the `GoogleLibphonenumberService` from the `google-libphonenumber.service` file.\n2. Provide a method `validatePhoneNumber` that takes a phone number as a string input and returns a boolean indicating whether the phone number is valid according to the Google Libphonenumber library.\n3. Provide a method `formatPhoneNumber` that takes a phone number as a string input and returns the formatted version of the phone number according to the Google Libphonenumber library.\n4. Ensure that the class is exported and can be used by other modules.\n\nCreate a TypeScript class that fulfills the above requirements and exports it as a module.", "solution": "```typescript\nimport { GoogleLibphonenumberService } from './src/google-libphonenumber.service';\n\nexport class PhoneNumberValidator {\n  private libphonenumberService: GoogleLibphonenumberService;\n\n  constructor() {\n    this.libphonenumberService = new GoogleLibphonenumberService();\n  }\n\n  validatePhoneNumber(phoneNumber: string): boolean {\n    return this.libphonenumberService.isValidNumber(phoneNumber);\n  }\n\n  formatPhoneNumber(phoneNumber: string): string {\n    return this.libphonenumberService.format(phoneNumber);\n  }\n}\n\nexport { PhoneNumberValidator };\n```\nIn this solution, we create a TypeScript class `PhoneNumberValidator` that encapsulates the functionality of the Google Libphonenumber library for phone number validation and formatting. The class imports the `GoogleLibphonenumberService` from the `google-libphonenumber.service` file and uses it to perform validation and formatting operations. The `validatePhoneNumber` method checks the validity of the phone number using the `isValidNumber` method provided by the `GoogleLibphonenumberService`, and the `formatPhoneNumber` method formats the phone number using the `format` method from the same service. Finally, the class is exported to be used by other modules."}
{"problem": "You are tasked with creating a Python function that validates a given phone number based on certain criteria. The phone number is represented as a string and must adhere to the following rules:\n1. The phone number must consist of only digits (0-9) and may contain optional hyphens (-) and parentheses ().\n2. If the phone number contains optional hyphens or parentheses, they must be placed correctly according to the standard phone number format.\n3. The phone number must have a minimum length of 10 characters and a maximum length of 14 characters, including optional hyphens and parentheses.\n\nYou need to implement a function `validate_phone_number(phone_number: str) -> bool` that takes a string `phone_number` as input and returns `True` if the phone number is valid based on the given criteria, and `False` otherwise.\n\nExample:\n```python\nvalidate_phone_number(\"1234567890\")  # Output: True\nvalidate_phone_number(\"123-456-7890\")  # Output: True\nvalidate_phone_number(\"(123) 456-7890\")  # Output: True\nvalidate_phone_number(\"123-456-78901234\")  # Output: False\nvalidate_phone_number(\"(123 456-7890\")  # Output: False\n```", "solution": "```python\nimport re\n\ndef validate_phone_number(phone_number: str) -> bool:\n    # Remove all non-digit characters from the phone number\n    cleaned_number = re.sub(r'\\D', '', phone_number)\n\n    # Check if the cleaned number meets the length criteria\n    if len(cleaned_number) < 10 or len(cleaned_number) > 14:\n        return False\n\n    # Check if the cleaned number matches the format with optional hyphens and parentheses\n    if re.match(r'^\\(?(\\d{3})\\)?[- ]?(\\d{3})[- ]?(\\d{4})$', cleaned_number):\n        return True\n    else:\n        return False\n```\n\nThe `validate_phone_number` function first removes all non-digit characters from the input phone number using the `re.sub` method. Then, it checks if the cleaned number meets the length criteria. Finally, it uses a regular expression to match the cleaned number with the standard phone number format, allowing for optional hyphens and parentheses. If the cleaned number matches the format, the function returns `True`; otherwise, it returns `False`."}
{"problem": "You are tasked with implementing a function that cleans a phone number by removing any leading '+' character and returning the cleaned phone number. The function should take a string representing the phone number as input and return the cleaned phone number as output.\n\nYou are given the following code snippet as a starting point:\n\n```php\nfunction cleanPhoneNumber($phone) {\n    // Your code here\n}\n```\n\nYou need to complete the `cleanPhoneNumber` function to achieve the desired functionality. The function should remove the leading '+' character if present and return the cleaned phone number.\n\nFor example:\n- If the input phone number is '+123456789', the function should return '123456789'.\n- If the input phone number is '987654321', the function should return '987654321'.", "solution": "```php\nfunction cleanPhoneNumber($phone) {\n    if (substr($phone, 0, 1) === '+') {\n        $clean_phone = substr($phone, 1);\n    } else {\n        $clean_phone = $phone;\n    }\n    return $clean_phone;\n}\n```\n\nThe `cleanPhoneNumber` function first checks if the input phone number starts with a '+'. If it does, it removes the leading '+' character using the `substr` function and assigns the result to the variable `$clean_phone`. If the input phone number does not start with a '+', the original phone number is assigned to `$clean_phone`. Finally, the function returns the cleaned phone number."}
{"problem": "You are tasked with implementing a custom text field in Swift that handles phone number input and country selection. The text field should conform to the `FPNTextFieldDelegate` protocol, which includes the following methods:\n1. `fpnDidSelectCountry(name: String, dialCode: String, code: String)`: An optional method that is called when a country is selected. It provides the name, dial code, and code of the selected country.\n2. `fpnDidValidatePhoneNumber(isValid: Bool)`: A required method that is called to validate the entered phone number. It provides a boolean value indicating whether the phone number is valid.\n3. `fpnDisplay(selectCountryListController: UIViewController)`: A required method that is called to display a list of selectable countries.\n\nYour task is to create a custom text field class `CustomFPNTextField` that conforms to the `FPNTextFieldDelegate` protocol and implements the required functionality. You should also provide a method to validate the entered phone number based on the selected country's dial code.\n\nImplement the `CustomFPNTextField` class with the required methods and functionality to handle country selection, phone number validation, and displaying the country selection list.", "solution": "```swift\nimport UIKit\n\nclass CustomFPNTextField: UITextField, FPNTextFieldDelegate {\n    \n    func fpnDidValidatePhoneNumber(isValid: Bool) {\n        if isValid {\n            print(\"Phone number is valid\")\n        } else {\n            print(\"Invalid phone number\")\n        }\n    }\n    \n    func fpnDisplay(selectCountryListController: UIViewController) {\n        // Implement the logic to display the country selection list controller\n        // For example:\n        // present(selectCountryListController, animated: true, completion: nil)\n    }\n    \n    func fpnDidSelectCountry(name: String, dialCode: String, code: String) {\n        print(\"Selected country: \\(name), Dial code: \\(dialCode), Code: \\(code)\")\n        // Implement any additional logic based on the selected country\n    }\n    \n    // Additional method to validate phone number based on selected country's dial code\n    func validatePhoneNumber(phoneNumber: String, forCountryDialCode dialCode: String) -> Bool {\n        // Implement the logic to validate the phone number based on the selected country's dial code\n        // For example:\n        // Use a library like libPhoneNumber to validate the phone number\n        return true // Replace with actual validation logic\n    }\n}\n```"}
{"problem": "You are tasked with implementing a method to send a hello SMS message to a user's phone number. The given code snippet is a part of a Django model representing a user with a phone number field and a method to send an SMS message. The method `send_hello_sms` is intended to send a hello SMS message to the user's phone number if it is available. Your task is to complete the implementation of the `send_hello_sms` method to send the message using the provided `HelloSMSMessage` named tuple.\n\nComplete the `send_hello_sms` method to send a hello SMS message to the user's phone number if it is available. The hello SMS message should include the user's username and be sent using the `HelloSMSMessage` named tuple.", "solution": "```python\nfrom django.db import models\nfrom typing import NamedTuple\n\nclass User(models.Model):\n    phone_number = models.CharField(max_length=255, null=True, blank=True)\n\n    class HelloSMSMessage(NamedTuple):\n        phone_number: str\n        username: str\n\n    def send_hello_sms(self):\n        if self.phone_number:\n            hello_message = self.HelloSMSMessage(phone_number=self.phone_number, username=self.username)\n            # Code to send the hello SMS message using the hello_message\n            # For example, using a hypothetical SMS sending library:\n            # sms_library.send_sms(hello_message.phone_number, f\"Hello, {hello_message.username}!\")\n        else:\n            print(\"Phone number is not available, cannot send hello SMS\")\n```\n\nIn the solution, the `send_hello_sms` method checks if the user's phone number is available. If the phone number is available, it creates a `HelloSMSMessage` named tuple with the user's phone number and username, and then sends the hello SMS message using the hypothetical `sms_library.send_sms` function. If the phone number is not available, it prints a message indicating that the hello SMS cannot be sent."}
{"problem": "You are tasked with implementing a function to extract phone numbers from a given text. The function should search for phone numbers within the text and return a list of all unique phone numbers found. A phone number is defined as a sequence of 10 digits, possibly separated by hyphens or spaces in a specific pattern. The function should handle various formats of phone numbers and return them in a standardized format.\n\nFunction Signature: `def find_phone(text: str) -> List[str]`\n\nInput:\n- `text`: A string representing the text from which phone numbers need to be extracted. The text may contain alphanumeric characters, special characters, and white spaces.\n\nOutput:\n- A list of unique phone numbers found in the text. Each phone number should be in the format \"XXX-XXX-XXXX\" (where X represents a digit).\n\nConstraints:\n- The input text can be of maximum length 10^6 characters.\n- The phone numbers may appear in different formats, such as \"XXX-XXX-XXXX\", \"XXX XXX XXXX\", \"(XXX) XXX-XXXX\", or any other valid phone number format.\n\nExample:\n```\nInput:\ntext = \"Contact us at 123-456-7890 or 9876543210. For support, call (555) 123-4567.\"\n\nOutput:\n['123-456-7890', '9876543210', '555-123-4567']\n```", "solution": "```python\nimport re\nfrom typing import List\n\ndef find_phone(text: str) -> List[str]:\n    # Regular expression to match phone numbers in various formats\n    phone_pattern = re.compile(r'(\\d{3}[-\\s]?\\d{3}[-\\s]?\\d{4})')\n    \n    # Find all matches of phone numbers in the text\n    matches = phone_pattern.findall(text)\n    \n    # Standardize the format of phone numbers and remove duplicates\n    unique_phone_numbers = list(set([re.sub(r'[-\\s]', '', match) for match in matches]))\n    \n    return unique_phone_numbers\n```\n\nThe `find_phone` function uses regular expressions to search for phone numbers in various formats within the given text. It then standardizes the format of the phone numbers and returns a list of unique phone numbers found in the text."}
{"problem": "You are tasked with implementing a function to validate and format a phone number. The phone number is represented as a 10-digit string, and the formatting should follow the pattern \"xxx-xxx-xxxx\". The provided code snippet gives a starting point for the formatting process, but it is incomplete. Your task is to complete the implementation of the `formattedNumber` property to ensure that the phone number is correctly formatted. Additionally, you need to implement a function to validate whether the input string is a valid 10-digit number.\n\nYou should implement the following two functionalities:\n1. Implement the `formattedNumber` property to format the given `number` string into the pattern \"xxx-xxx-xxxx\".\n2. Implement a function `isValidPhoneNumber(_:)` that takes a string as input and returns a boolean indicating whether the input is a valid 10-digit number.\n\nYou can assume that the input string for the phone number will always be a 10-digit string.\n\nExample:\nFor the input number \"1234567890\", the formatted number should be \"123-456-7890\".", "solution": "```swift\n// Implementing the formattedNumber property to format the given number string into the pattern \"xxx-xxx-xxxx\"\nextension String {\n    var formattedNumber: String {\n        var result = self\n        result.insert(\"-\", at: self.index(self.startIndex, offsetBy: 3))\n        result.insert(\"-\", at: self.index(self.startIndex, offsetBy: 7))\n        return result\n    }\n}\n\n// Implementing a function to validate whether the input string is a valid 10-digit number\nfunc isValidPhoneNumber(_ phoneNumber: String) -> Bool {\n    let numericSet = CharacterSet.decimalDigits\n    let isNumeric = phoneNumber.rangeOfCharacter(from: numericSet.inverted) == nil\n    return phoneNumber.count == 10 && isNumeric\n}\n\n// Testing the implementation\nlet inputNumber = \"1234567890\"\nlet formattedNumber = inputNumber.formattedNumber\nprint(\"Formatted Number:\", formattedNumber) // Output: Formatted Number: 123-456-7890\nprint(\"Is Valid Phone Number:\", isValidPhoneNumber(inputNumber)) // Output: Is Valid Phone Number: true\n```"}
{"problem": "You are tasked with creating a PHP class that interacts with the Intelepeer API to send SMS messages. The IntelepeerConnector class provided in the code snippet is a wrapper for the Intelepeer API and is responsible for handling the communication with the API endpoints.\n\nYour task is to implement a method within the IntelepeerConnector class that sends an SMS message using the Intelepeer API. The method should accept the recipient's phone number and the message content as parameters and return a boolean value indicating whether the message was successfully sent.\n\nYou should also handle any necessary error checking and provide appropriate feedback in case of failures, such as invalid recipient numbers or API communication errors.\n\nYour implementation should make use of the provided IntelepeerConnector class and any necessary dependencies.", "solution": "```php\n<?php\n\nrequire \"vendor/autoload.php\";\n\nuse Inbenta\\IntelepeerConnector\\IntelepeerConnector;\n\nclass CustomIntelepeerConnector extends IntelepeerConnector\n{\n    // Method to send an SMS message using the Intelepeer API\n    public function sendSMS($recipientNumber, $message)\n    {\n        // Perform any necessary input validation\n        if (!is_numeric($recipientNumber) || strlen($recipientNumber) != 10) {\n            return false; // Invalid recipient number\n        }\n\n        // Make the API call to send the SMS\n        try {\n            $response = $this->apiClient->sendSMS($recipientNumber, $message);\n            if ($response['status'] === 'success') {\n                return true; // Message sent successfully\n            } else {\n                return false; // API call was not successful\n            }\n        } catch (Exception $e) {\n            // Handle any API communication errors\n            return false;\n        }\n    }\n}\n\n// Example usage\n$appPath = __DIR__ . '/';\n$intelepeerConnector = new CustomIntelepeerConnector($appPath);\n\n// Send an SMS message\n$recipientNumber = \"1234567890\";\n$message = \"Hello from Intelepeer!\";\nif ($intelepeerConnector->sendSMS($recipientNumber, $message)) {\n    echo \"SMS message sent successfully.\";\n} else {\n    echo \"Failed to send SMS message.\";\n}\n```\nIn this solution, a CustomIntelepeerConnector class is created by extending the provided IntelepeerConnector class. The sendSMS method is implemented to handle the sending of SMS messages using the Intelepeer API. Input validation is performed to ensure the recipient's phone number is valid, and appropriate error handling is included for API communication issues. Finally, an example usage of the sendSMS method is demonstrated."}
{"problem": "You are tasked with creating a Python program that validates and formats phone numbers using the `phonenumbers` library. The `phonenumbers` library provides functions to parse, validate, and format international phone numbers. Your program should take a phone number as input in the format `+551100000000` and then parse and validate it using the `phonenumbers` library. If the phone number is valid, the program should format it in a standardized international format and print the formatted number. If the phone number is invalid, the program should print an error message.\n\nYour program should perform the following steps:\n1. Prompt the user to input a phone number in the format `+551100000000`.\n2. Parse the input phone number using the `phonenumbers` library.\n3. Validate the parsed phone number.\n4. If the phone number is valid, format it in the standardized international format and print the formatted number. If the phone number is invalid, print an error message.\n\nYour program should use the `phonenumbers` library to accomplish these tasks.", "solution": "```python\nimport phonenumbers\n\ndef validate_and_format_phone_number():\n    phone = input('Enter phone number in the format (+551100000000): ')\n    try:\n        phone_number = phonenumbers.parse(phone)\n        if phonenumbers.is_valid_number(phone_number):\n            formatted_number = phonenumbers.format_number(phone_number, phonenumbers.PhoneNumberFormat.INTERNATIONAL)\n            print(f'Formatted phone number: {formatted_number}')\n        else:\n            print('Invalid phone number')\n    except phonenumbers.phonenumberutil.NumberParseException:\n        print('Invalid phone number format')\n\nvalidate_and_format_phone_number()\n```"}
{"problem": "You are tasked with creating a custom decorator in TypeScript for validating the format of a phone number. The decorator should ensure that the phone number is in a specific format and is unique within a given context. You will need to implement the decorator function and apply it to a property of a class.\n\nYour custom decorator should be named `@ValidPhoneNumber` and should enforce the following rules:\n1. The phone number must be in the format \"+[country code][area code][local number]\", e.g., \"+1234567890\".\n2. The phone number must be unique within a given context.\n\nYou should create a class `Contact` with a property `phoneNumber` that is decorated with `@ValidPhoneNumber`. The `Contact` class should also have a method `save` that simulates saving the contact information.\n\nYour task is to implement the `@ValidPhoneNumber` decorator and apply it to the `phoneNumber` property of the `Contact` class. Additionally, implement the `save` method to demonstrate the usage of the decorator.\n\n```typescript\n// Implement the @ValidPhoneNumber decorator here\n\nclass Contact {\n  @ValidPhoneNumber\n  phoneNumber!: string;\n\n  constructor(phoneNumber: string) {\n    this.phoneNumber = phoneNumber;\n  }\n\n  save() {\n    // Simulate saving the contact information\n    console.log(`Contact with phone number ${this.phoneNumber} saved.`);\n  }\n}\n\n// Usage\nconst contact1 = new Contact(\"+1234567890\");\ncontact1.save(); // Output: Contact with phone number +1234567890 saved.\n\nconst contact2 = new Contact(\"+1234567890\");\ncontact2.save(); // Output: Error: Phone number must be unique within the context.\n```", "solution": "```typescript\n// Implement the @ValidPhoneNumber decorator\nconst uniquePhoneNumbers: Set<string> = new Set();\n\nfunction ValidPhoneNumber(target: any, propertyKey: string) {\n  let val = target[propertyKey];\n\n  const setter = (newVal: string) => {\n    if (!/^(\\+\\d{1,3})(\\d{1,3})(\\d{4,10})$/.test(newVal)) {\n      throw new Error(\"Phone number must be in the format +[country code][area code][local number]\");\n    }\n\n    if (uniquePhoneNumbers.has(newVal)) {\n      throw new Error(\"Phone number must be unique within the context.\");\n    }\n\n    uniquePhoneNumbers.delete(val);\n    uniquePhoneNumbers.add(newVal);\n    val = newVal;\n  };\n\n  Object.defineProperty(target, propertyKey, {\n    get: () => val,\n    set: setter,\n    enumerable: true,\n    configurable: true,\n  });\n}\n\nclass Contact {\n  @ValidPhoneNumber\n  phoneNumber!: string;\n\n  constructor(phoneNumber: string) {\n    this.phoneNumber = phoneNumber;\n  }\n\n  save() {\n    // Simulate saving the contact information\n    console.log(`Contact with phone number ${this.phoneNumber} saved.`);\n  }\n}\n\n// Usage\nconst contact1 = new Contact(\"+1234567890\");\ncontact1.save(); // Output: Contact with phone number +1234567890 saved.\n\ntry {\n  const contact2 = new Contact(\"+1234567890\");\n  contact2.save(); // Output: Error: Phone number must be unique within the context.\n} catch (error) {\n  console.error(error.message);\n}\n```"}
{"problem": "You are tasked with creating a form validation function for a web application. The function should validate the input fields based on the given HTML code snippet. The HTML code snippet represents a form input field for a phone number.\n\nThe form input field has the following attributes:\n- Name: \"no_telp\"\n- Type: \"text\"\n- Class: \"form-control\"\n\nYour task is to implement a function that validates the phone number input based on the following criteria:\n1. The phone number must be a string of digits.\n2. The phone number must be exactly 10 digits long.\n3. The phone number must not contain any special characters or alphabets.\n\nWrite a function named `validatePhoneNumber` that takes a single parameter:\n- `phoneNumber` (string): The phone number input to be validated.\n\nThe function should return `true` if the phone number meets all the validation criteria, and `false` otherwise.\n\nFunction Signature: `function validatePhoneNumber(phoneNumber)`\n\nExample:\nInput:\nvalidatePhoneNumber(\"1234567890\")\nOutput:\ntrue\n\nInput:\nvalidatePhoneNumber(\"123456789\")\nOutput:\nfalse\n\nInput:\nvalidatePhoneNumber(\"12345678A0\")\nOutput:\nfalse", "solution": "```javascript\nfunction validatePhoneNumber(phoneNumber) {\n  // Check if the phone number is a string of digits\n  if (!/^\\d+$/.test(phoneNumber)) {\n    return false;\n  }\n  // Check if the phone number is exactly 10 digits long\n  if (phoneNumber.length !== 10) {\n    return false;\n  }\n  // Check if the phone number does not contain any special characters or alphabets\n  if (!/^[0-9]+$/.test(phoneNumber)) {\n    return false;\n  }\n  return true;\n}\n```"}
{"problem": "You are tasked with creating a password validation function for a user registration system. The function should take in two passwords, a name, a list of modes, a homepage URL, an API URL, a MIPTA URL, a phone number, and an email address. The function should perform the following validations:\n1. Check if the two passwords match.\n2. Ensure that the password is at least 8 characters long and contains at least one uppercase letter, one lowercase letter, one digit, and one special character.\n3. Verify that the name is not empty and contains only alphabets and spaces.\n4. Validate that the list of modes contains at least one mode and does not contain any duplicates.\n5. Confirm that the homepage URL starts with \"http://\" or \"https://\".\n6. Validate that the API URL starts with \"http://\" or \"https://\".\n7. Ensure that the MIPTA URL starts with \"http://\" or \"https://\".\n8. Verify that the phone number is a valid format (e.g., +1234567890).\n9. Validate the email address format (e.g., example@example.com).\n\nYour task is to implement the password validation function that takes in the mentioned inputs and performs the validations as described.", "solution": "```python\nimport re\n\ndef validate_registration(password1, password2, name, modes, homepage, api_url, miptaurl, phone, email):\n    # Check if the two passwords match\n    if password1 != password2:\n        return \"Passwords do not match\"\n\n    # Ensure that the password meets the criteria\n    if not re.match(r'^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$', password1):\n        return \"Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one digit, and one special character\"\n\n    # Validate the name\n    if not name.replace(' ', '').isalpha():\n        return \"Name should only contain alphabets and spaces\"\n\n    # Validate the list of modes\n    if len(modes) == 0 or len(modes) != len(set(modes)):\n        return \"Modes list should contain at least one mode and not have any duplicates\"\n\n    # Confirm the homepage URL format\n    if not homepage.startswith(\"http://\") and not homepage.startswith(\"https://\"):\n        return \"Homepage URL should start with 'http://' or 'https://'\"\n\n    # Validate the API URL format\n    if not api_url.startswith(\"http://\") and not api_url.startswith(\"https://\"):\n        return \"API URL should start with 'http://' or 'https://'\"\n\n    # Validate the MIPTA URL format\n    if not miptaurl.startswith(\"http://\") and not miptaurl.startswith(\"https://\"):\n        return \"MIPTA URL should start with 'http://' or 'https://'\"\n\n    # Validate the phone number format\n    if not re.match(r'^\\+\\d{10,15}$', phone):\n        return \"Invalid phone number format\"\n\n    # Validate the email address format\n    if not re.match(r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$', email):\n        return \"Invalid email address format\"\n\n    return \"Registration details are valid\"\n```"}
{"problem": "You are tasked with implementing a form validation function for a user sign-up screen in an iOS app. The provided code snippet includes outlets for various UI elements such as text fields, labels, buttons, and a text view. Your goal is to create a function that validates the user input when they attempt to sign up. The validation function should check the input in the name, phone number, password, and email text fields, and display appropriate error messages if the input is invalid. The error messages should be displayed in the errorLabel, and the sign-up button should be enabled only when all input is valid.\n\nYou are given the following UI elements:\n- nameTextField: A text field for the user's name.\n- phoneNumberTextField: A text field for the user's phone number.\n- passwordTextField: A text field for the user's password.\n- emailTextField: A text field for the user's email address.\n- errorLabel: A label to display error messages.\n- signUpButton: A button to initiate the sign-up process.\n- textView: A text view for additional user input.\n\nYour task is to implement a function `validateSignUpForm()` that performs the following validations:\n1. Name Validation: Ensure that the name is not empty.\n2. Phone Number Validation: Ensure that the phone number is a valid format (e.g., 10 digits).\n3. Password Validation: Ensure that the password is at least 8 characters long.\n4. Email Validation: Ensure that the email address is in a valid format.\n\nIf any of the validations fail, display the appropriate error message in the errorLabel. If all validations pass, clear the errorLabel and enable the signUpButton.", "solution": "```swift\nfunc validateSignUpForm() {\n    guard let name = nameTextField.text, !name.isEmpty else {\n        errorLabel.text = \"Please enter your name\"\n        signUpButton.isEnabled = false\n        return\n    }\n    \n    guard let phoneNumber = phoneNumberTextField.text, phoneNumber.count == 10, phoneNumber.rangeOfCharacter(from: CharacterSet.decimalDigits.inverted) == nil else {\n        errorLabel.text = \"Please enter a valid 10-digit phone number\"\n        signUpButton.isEnabled = false\n        return\n    }\n    \n    guard let password = passwordTextField.text, password.count >= 8 else {\n        errorLabel.text = \"Password must be at least 8 characters long\"\n        signUpButton.isEnabled = false\n        return\n    }\n    \n    guard let email = emailTextField.text, isValidEmail(email) else {\n        errorLabel.text = \"Please enter a valid email address\"\n        signUpButton.isEnabled = false\n        return\n    }\n    \n    errorLabel.text = \"\"\n    signUpButton.isEnabled = true\n}\n\nfunc isValidEmail(_ email: String) -> Bool {\n    let emailRegex = \"[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Za-z]{2,}\"\n    let emailPredicate = NSPredicate(format: \"SELF MATCHES %@\", emailRegex)\n    return emailPredicate.evaluate(with: email)\n}\n```"}
{"problem": "You are tasked with implementing a data validation function for a web application's user profile form. The form contains various fields, and the validation function needs to ensure that the data entered by the user adheres to specific rules. One of the fields is the \"Phone\" field, which can appear in two different contexts: as a searchable field in a list and as a detail field in the user's profile. The validation rules for the \"Phone\" field differ based on its context. \n\nThe validation rules for the \"Phone\" field are as follows:\n1. In the list context, the phone number must be a valid phone number and searchable.\n2. In the detail context, the phone number must be a valid phone number.\n\nYou are provided with a code snippet that represents the configuration for the \"Phone\" field in both contexts. The 'list' and 'detail' arrays contain the configuration for the \"Phone\" field in the list and detail contexts, respectively. The 'searchable' key indicates whether the field is searchable, and the 'label' key provides the label for the field. Additionally, the 'profile_slug' array contains the SQL configuration for the \"profile_slug\" field, which is not directly related to the \"Phone\" field.\n\nYour task is to implement a data validation function that takes the user input for the \"Phone\" field and its context as input and returns true if the input adheres to the validation rules based on the provided configuration, and false otherwise.\n\nImplement the function:\n```python\ndef validate_phone(phone_number, context):\n    # Your implementation here\n    pass\n```\n\nThe function should take two parameters:\n- `phone_number` (string): The user input for the phone number.\n- `context` (string): The context in which the phone number is being validated. It can be either 'list' or 'detail'.", "solution": "```python\nimport re\n\ndef validate_phone(phone_number, context):\n    if context == 'list':\n        # Check if the phone number is valid and searchable\n        if re.match(r'^\\+?[0-9]{1,3}\\s?[0-9]{3,14}$', phone_number) is not None:\n            return True\n        else:\n            return False\n    elif context == 'detail':\n        # Check if the phone number is valid\n        if re.match(r'^\\+?[0-9]{1,3}\\s?[0-9]{3,14}$', phone_number) is not None:\n            return True\n        else:\n            return False\n    else:\n        raise ValueError(\"Invalid context provided. Context must be 'list' or 'detail'.\")\n```\n\nThis solution defines the `validate_phone` function, which uses regular expressions to validate the phone number based on the context provided. If the context is 'list', the function checks if the phone number is valid and searchable. If the context is 'detail', it checks if the phone number is valid. If an invalid context is provided, the function raises a ValueError."}
{"problem": "You are tasked with creating a SwiftUI view for a social networking app that allows users to add new contacts. The code snippet provided is a part of the view implementation and shows a button with an image and text for adding contacts. Your task is to complete the implementation of the SwiftUI view by adding the necessary components and functionality to handle the addition of new contacts.\n\nYour SwiftUI view should include the following:\n- A button with an image and text for adding contacts, similar to the code snippet provided.\n- A functionality that allows users to input the details of the new contact, such as name, email, and phone number.\n- A mechanism to validate the input details for the new contact.\n- A way to handle the addition of the new contact, such as updating the data model or triggering an API request to add the contact to the server.\n\nYour implementation should ensure that the button is visually appealing and responsive to user interactions. Additionally, the input fields for the new contact details should be appropriately styled and validated.\n\nWrite the complete SwiftUI view implementation for adding contacts, including the necessary components and functionality.", "solution": "```swift\nimport SwiftUI\n\nstruct AddContactsView: View {\n    @State private var name: String = \"\"\n    @State private var email: String = \"\"\n    @State private var phoneNumber: String = \"\"\n    @State private var isInputValid: Bool = false\n\n    var body: some View {\n        VStack {\n            HStack {\n                Image(\"icons_filled_add-friends_white\")\n                    .renderingMode(.template)\n                    .foregroundColor(.white)\n                Text(\"Add Contacts\").foregroundColor(.white)\n            }\n            .frame(height: 40)\n            .background(Color.blue)\n            .cornerRadius(8)\n            .padding()\n\n            TextField(\"Name\", text: $name)\n                .textFieldStyle(RoundedBorderTextFieldStyle())\n                .padding()\n\n            TextField(\"Email\", text: $email)\n                .textFieldStyle(RoundedBorderTextFieldStyle())\n                .padding()\n\n            TextField(\"Phone Number\", text: $phoneNumber)\n                .textFieldStyle(RoundedBorderTextFieldStyle())\n                .padding()\n\n            Button(action: {\n                // Validate input details\n                if !name.isEmpty && isValidEmail(email) && isValidPhoneNumber(phoneNumber) {\n                    isInputValid = true\n                    // Handle addition of new contact, e.g., update data model or trigger API request\n                    // Add your implementation here\n                } else {\n                    isInputValid = false\n                }\n            }) {\n                Text(\"Add Contact\")\n                    .foregroundColor(.white)\n                    .padding()\n                    .frame(maxWidth: .infinity)\n                    .background(isInputValid ? Color.green : Color.gray)\n                    .cornerRadius(8)\n            }\n            .padding()\n        }\n    }\n\n    private func isValidEmail(_ email: String) -> Bool {\n        // Add email validation logic, e.g., using regular expressions\n        // Return true if email is valid, false otherwise\n        // Add your implementation here\n        return true\n    }\n\n    private func isValidPhoneNumber(_ phoneNumber: String) -> Bool {\n        // Add phone number validation logic, e.g., using regular expressions\n        // Return true if phone number is valid, false otherwise\n        // Add your implementation here\n        return true\n    }\n}\n\nstruct AddContactsView_Previews: PreviewProvider {\n    static var previews: some View {\n        AddContactsView()\n    }\n}\n```\n\nIn the solution, the `AddContactsView` is a SwiftUI view that includes a button with an image and text for adding contacts, as well as input fields for the new contact details. The view also handles the validation of input details and provides a mechanism to add the new contact. The button's appearance and functionality are implemented to ensure a visually appealing and responsive user experience."}
{"problem": "You are tasked with creating a form validation system for a complaint submission application. The application has various input fields, and you need to implement error labels to display validation messages for each field. The error labels should be displayed when the corresponding input field fails validation.\n\nYou are given a code snippet that declares several error labels and a masked text box for the phone number. Your task is to implement the validation logic for the phone number field and display the appropriate error message in the error label when the input is invalid.\n\nYour validation rules for the phone number field are as follows:\n1. The phone number must be exactly 10 digits long.\n2. The phone number must contain only numeric digits.\n\nImplement the validation logic for the phone number field and display the appropriate error message in the error label when the input is invalid.", "solution": "```csharp\nprivate void ValidatePhoneNumber()\n{\n    string phoneNumber = phoneNumberTextBox.Text;\n    if (string.IsNullOrEmpty(phoneNumber))\n    {\n        phoneNumberErrorLabel.Text = \"Phone number is required\";\n    }\n    else if (phoneNumber.Length != 10 || !phoneNumber.All(char.IsDigit))\n    {\n        phoneNumberErrorLabel.Text = \"Invalid phone number format\";\n    }\n    else\n    {\n        phoneNumberErrorLabel.Text = \"\"; // Clear the error message if the input is valid\n    }\n}\n\n// Call the ValidatePhoneNumber method when the phone number input changes\nprivate void phoneNumberTextBox_TextChanged(object sender, EventArgs e)\n{\n    ValidatePhoneNumber();\n}\n```\n\nIn the solution, the `ValidatePhoneNumber` method checks the input phone number against the specified validation rules. If the phone number is empty, it sets the error label to \"Phone number is required\". If the phone number length is not 10 or it contains non-numeric characters, the error label is set to \"Invalid phone number format\". Otherwise, the error label is cleared. The `phoneNumberTextBox_TextChanged` event handler is used to trigger the validation when the phone number input changes."}
{"problem": "You are tasked with creating a program that processes a given text to extract specific information. The text will contain a copyright notice similar to the provided code snippet. Your program should extract the copyright year and the contact information for the Office of Technology Licensing at UC Berkeley.\n\nCreate a function or method `extractCopyrightInfo(text: str) -> dict` that takes a string `text` as input and returns a dictionary containing the extracted information. The dictionary should have the following keys:\n- \"copyright_year\": A string representing the copyright year.\n- \"contact_info\": A string representing the contact information for the Office of Technology Licensing.\n\nAssumptions:\n- The copyright year will always be in the format \"\u00a9YYYY\" where YYYY represents the year.\n- The contact information will be in the format \"Contact The Office of Technology Licensing, UC Berkeley, <address>, <phone number>\".\n\nExample:\nIf the input text is:\n```\nCopyright \u00a92017. The Regents of the University of California (Regents). All Rights Reserved.\nPermission to use, copy, modify, and distribute this software and its documentation for educational,\nresearch, and not-for-profit purposes, without fee and without a signed licensing agreement, is\nhereby granted, provided that the above copyright notice, this paragraph and the following two\nparagraphs appear in all copies, modifications, and distributions. Contact The Office of Technology\nLicensing, UC Berkeley, 2150 Shattuck Avenue, Suite 510, Berkeley, CA 94720-1620, (510) 643-\n```\nThe output should be:\n```\n{\n  \"copyright_year\": \"2017\",\n  \"contact_info\": \"2150 Shattuck Avenue, Suite 510, Berkeley, CA 94720-1620, (510) 643-xxxx\"\n}\nNote: The phone number is represented as (510) 643-xxxx for privacy reasons.\n```", "solution": "```python\nimport re\n\ndef extractCopyrightInfo(text: str) -> dict:\n    copyright_year = re.search(r'\u00a9(\\d{4})', text).group(1)\n    contact_info_match = re.search(r'Contact The Office of Technology Licensing, UC Berkeley, (.+?), \\((\\d{3})\\) (\\d{3})-(\\d{4})', text)\n    contact_info = f\"{contact_info_match.group(1)}, ({contact_info_match.group(2)}) {contact_info_match.group(3)}-xxxx\"\n    \n    return {\n        \"copyright_year\": copyright_year,\n        \"contact_info\": contact_info\n    }\n\n# Test the function with the provided example\ntext = \"\"\"\nCopyright \u00a92017. The Regents of the University of California (Regents). All Rights Reserved.\nPermission to use, copy, modify, and distribute this software and its documentation for educational,\nresearch, and not-for-profit purposes, without fee and without a signed licensing agreement, is\nhereby granted, provided that the above copyright notice, this paragraph and the following two\nparagraphs appear in all copies, modifications, and distributions. Contact The Office of Technology\nLicensing, UC Berkeley, 2150 Shattuck Avenue, Suite 510, Berkeley, CA 94720-1620, (510) 643-\n\"\"\"\nprint(extractCopyrightInfo(text))\n```\nOutput:\n```\n{\n  \"copyright_year\": \"2017\",\n  \"contact_info\": \"2150 Shattuck Avenue, Suite 510, Berkeley, CA 94720-1620, (510) 643-xxxx\"\n}\n```"}
{"problem": "You are tasked with implementing a custom `PhoneField` component for a web application. The `PhoneField` component should be designed to accept and validate phone numbers in a specific format. The format for the phone number is as follows: `(XXX) XXX-XXXX`, where `X` represents a digit from 0 to 9. The component should also provide a method to retrieve the formatted phone number and validate whether the input conforms to the specified format.\n\nYour task is to implement the `PhoneField` component in JavaScript, ensuring that it enforces the specified phone number format and provides a method to retrieve the formatted phone number.\n\nThe `PhoneField` component should have the following properties and methods:\n- `value`: A string representing the current value of the phone number input.\n- `isValid()`: A method that returns `true` if the current value of the phone number input conforms to the format `(XXX) XXX-XXXX`, and `false` otherwise.\n- `getFormattedPhoneNumber()`: A method that returns the formatted phone number in the format `(XXX) XXX-XXXX`.\n\nYou should implement the `PhoneField` component in a separate file and export it using the provided code snippet.", "solution": "```javascript\n// PhoneField.js\nexport class PhoneField {\n  constructor() {\n    this.value = '';\n  }\n\n  setValue(newValue) {\n    this.value = newValue;\n  }\n\n  isValid() {\n    const phoneRegex = /^\\(\\d{3}\\) \\d{3}-\\d{4}$/;\n    return phoneRegex.test(this.value);\n  }\n\n  getFormattedPhoneNumber() {\n    if (this.isValid()) {\n      return this.value;\n    } else {\n      throw new Error('Invalid phone number format');\n    }\n  }\n}\n```\n\nIn the solution, we implement the `PhoneField` component as a class with the specified properties and methods. The `setValue` method allows setting the value of the phone number input. The `isValid` method uses a regular expression to validate whether the input conforms to the specified format. The `getFormattedPhoneNumber` method returns the formatted phone number if it is valid; otherwise, it throws an error indicating an invalid phone number format. Finally, we export the `PhoneField` class using the provided code snippet."}
{"problem": "You are tasked with creating a Python function that validates a phone number based on the given regex pattern. The function should take a phone number as input and return a boolean value indicating whether the phone number is valid or not.\n\nThe regex pattern for the phone number validation is as follows:\n- The phone number must start with an optional '+' sign followed by the country code '1'.\n- The remaining digits must be between 9 and 15 in length.\n\nYour task is to implement the `validate_phone_number` function that takes a phone number as a string and returns `True` if it matches the given regex pattern, and `False` otherwise.\n\nFunction Signature: \n```python\ndef validate_phone_number(phone_number: str) -> bool:\n    # Your implementation\n```\n\nExample:\n```python\nvalidate_phone_number('+1234567890')  # Output: True\nvalidate_phone_number('123456789012345')  # Output: True\nvalidate_phone_number('+123')  # Output: False\nvalidate_phone_number('123456')  # Output: False\n```", "solution": "```python\nimport re\n\ndef validate_phone_number(phone_number: str) -> bool:\n    pattern = r'^\\+?1?\\d{9,15}$'\n    return bool(re.match(pattern, phone_number))\n```\n\nThe `validate_phone_number` function uses the `re.match` method to check if the given `phone_number` matches the specified regex pattern. If the match is found, it returns `True`, indicating that the phone number is valid; otherwise, it returns `False`."}
{"problem": "You are tasked with creating a Python module that interacts with a GSM modem to send SMS messages. The module should provide a high-level interface for sending messages, handling errors, and managing the modem's state. You will need to implement the following functionalities:\n\n1. Initialize the GSM modem: Create a class `GSMModem` that initializes the modem using the `GSMChan` and `GSM` modules. The initialization should handle any necessary setup and configuration.\n\n2. Send SMS: Implement a method `send_sms` in the `GSMModem` class that takes a phone number and a message as input and sends an SMS using the initialized modem. Handle any errors that may occur during the sending process.\n\n3. Error handling: Ensure that the `send_sms` method handles potential errors such as modem not being ready, invalid phone number, or message sending failure.\n\n4. State management: Provide methods to check the modem's state, such as `is_ready` to check if the modem is ready to send messages.\n\nYour implementation should use the `ctypes` module to interact with the GSM modem, and it should also utilize the `time` module for any necessary time-related operations.\n\nCreate a Python module that fulfills the above requirements and provides a high-level interface for interacting with the GSM modem.", "solution": "```python\nfrom ctypes import *\nimport GSMChan\nimport GSM\nimport time\n\nclass GSMModem:\n    def __init__(self):\n        # Initialize the GSM modem\n        self.modem = GSMChan.GSMChan()\n        self.modem.init()\n        self.ready = False\n\n    def send_sms(self, phone_number, message):\n        if not self.ready:\n            print(\"Modem not ready to send SMS\")\n            return\n\n        if not self._is_valid_phone_number(phone_number):\n            print(\"Invalid phone number\")\n            return\n\n        if not self.modem.sendSMS(phone_number, message):\n            print(\"Failed to send SMS\")\n            return\n\n        print(\"SMS sent successfully to\", phone_number)\n\n    def is_ready(self):\n        # Check if the modem is ready\n        self.ready = self.modem.isReady()\n        return self.ready\n\n    def _is_valid_phone_number(self, phone_number):\n        # Check if the phone number is valid\n        # Implement validation logic here\n        return True  # Placeholder for validation logic\n\n# Example usage\nmodem = GSMModem()\nif modem.is_ready():\n    modem.send_sms(\"1234567890\", \"Hello, this is a test message\")\n```\nIn this solution, we create a `GSMModem` class that initializes the GSM modem in the `__init__` method. The `send_sms` method sends an SMS message, handling potential errors such as the modem not being ready or an invalid phone number. The `is_ready` method checks the modem's state and returns whether it is ready to send messages. This implementation uses the `ctypes` module to interact with the GSM modem and the `time` module for any necessary time-related operations."}
{"problem": "You are tasked with creating a program that utilizes the `TextPseudonymizer` class from the `textprivacy` library to pseudonymize sensitive information in a given text. The `TextPseudonymizer` class provides methods to replace sensitive information such as names, addresses, and phone numbers with pseudonyms to protect privacy.\n\nYour task is to implement a function `pseudonymize_text` that takes a string of text and uses the `TextPseudonymizer` class to pseudonymize any sensitive information present in the text. The function should return the pseudonymized text.\n\nThe `TextPseudonymizer` class has the following methods:\n- `pseudonymize_names(text)`: Replaces names in the given text with pseudonyms.\n- `pseudonymize_addresses(text)`: Replaces addresses in the given text with pseudonyms.\n- `pseudonymize_phone_numbers(text)`: Replaces phone numbers in the given text with pseudonyms.\n\nYou should use the `TextPseudonymizer` class to pseudonymize the text by applying all three methods in the following order: `pseudonymize_names`, `pseudonymize_addresses`, and `pseudonymize_phone_numbers`.\n\nFunction signature: `def pseudonymize_text(text: str) -> str:`\n\nExample:\n```python\nfrom textprivacy.textpseudonymization import TextPseudonymizer\n\ndef pseudonymize_text(text: str) -> str:\n    pseudonymizer = TextPseudonymizer()\n    text = pseudonymizer.pseudonymize_names(text)\n    text = pseudonymizer.pseudonymize_addresses(text)\n    text = pseudonymizer.pseudonymize_phone_numbers(text)\n    return text\n\ninput_text = \"John Doe lives at 123 Main Street and his phone number is 555-123-4567.\"\npseudonymized_text = pseudonymize_text(input_text)\nprint(pseudonymized_text)\n# Output: \"Alice Smith lives at 456 Elm Street and her phone number is 555-987-6543.\"\n```", "solution": "```python\nfrom textprivacy.textpseudonymization import TextPseudonymizer\n\ndef pseudonymize_text(text: str) -> str:\n    pseudonymizer = TextPseudonymizer()\n    text = pseudonymizer.pseudonymize_names(text)\n    text = pseudonymizer.pseudonymize_addresses(text)\n    text = pseudonymizer.pseudonymize_phone_numbers(text)\n    return text\n```"}
{"problem": "You are tasked with implementing a method to display place information in a mobile application. The method should take a `Place` object as input and update the UI elements to show the place's phone number, open status, and a photo. The `Place` object has the following relevant methods:\n- `getPhone()`: Returns the phone number of the place as a string.\n- `isOpenNow()`: Returns a boolean indicating whether the place is currently open.\n- `getPhoto()`: Returns a `Bitmap` object representing the photo of the place.\n\nYou are provided with a code snippet that attempts to update the UI elements for phone number and open status, but it is commented out. Your task is to complete the method by implementing the necessary code to update the UI elements for phone number, open status, and place photo.\n\nYour method should:\n1. Set the text of a TextView widget with id `phone` to the phone number of the place.\n2. Set the text of a TextView widget with id `openNow` to \"Open\" if the place is open, and \"Closed\" if it is closed.\n3. Display the place photo in an ImageView widget with id `placePhoto`.\n\nComplete the method to achieve the desired functionality.", "solution": "```java\npublic void displayPlaceInformation(Place place) {\n    // Update phone number\n    TextView phoneTextView = findViewById(R.id.phone);\n    phoneTextView.setText(place.getPhone());\n\n    // Update open status\n    TextView openNowTextView = findViewById(R.id.openNow);\n    if (place.isOpenNow()) {\n        openNowTextView.setText(\"Open\");\n    } else {\n        openNowTextView.setText(\"Closed\");\n    }\n\n    // Display place photo\n    ImageView placePhotoImageView = findViewById(R.id.placePhoto);\n    Bitmap placePhoto = place.getPhoto();\n    placePhotoImageView.setImageBitmap(placePhoto);\n}\n```\nIn the solution, the `displayPlaceInformation` method takes a `Place` object as input and updates the UI elements based on the place's information. It retrieves the necessary UI elements using their ids and sets their text or image accordingly. The phone number is set directly from the `Place` object, the open status is determined using the `isOpenNow` method, and the place photo is displayed in the `ImageView` widget."}
{"problem": "You are tasked with creating a custom form field for phone numbers in a Django application. The field should be a subclass of `CharField` and should validate the phone number using the `phonenumbers` library. Additionally, the field should allow for the specification of a default region for parsing and formatting the phone numbers.\n\nYour task is to implement the custom form field `PhoneNumberField` by subclassing `CharField` and overriding the `to_python` and `validate` methods to ensure that the phone number is valid and properly formatted according to the specified region.\n\nYour implementation should include the following:\n- Define the `PhoneNumberField` class as a subclass of `CharField`.\n- Override the `to_python` method to parse and format the phone number using the `phonenumbers` library.\n- Override the `validate` method to ensure that the phone number is valid and properly formatted according to the specified region.\n\nYour implementation should allow for the following usage:\n```python\nclass MyModel(models.Model):\n    phone_number = PhoneNumberField(region='US', blank=True, null=True, max_length=128)\n```", "solution": "```python\nimport phonenumbers\nfrom django import forms\nfrom django.core.exceptions import ValidationError\nfrom django.db import models\nfrom phonenumbers import NumberParseException\n\nclass PhoneNumberField(models.CharField):\n    def __init__(self, region=None, *args, **kwargs):\n        self.region = region\n        super().__init__(*args, **kwargs)\n\n    def to_python(self, value):\n        if value in self.empty_values:\n            return None\n        try:\n            parsed_number = phonenumbers.parse(value, self.region)\n            if not phonenumbers.is_valid_number(parsed_number):\n                raise ValidationError('Invalid phone number')\n            return phonenumbers.format_number(parsed_number, phonenumbers.PhoneNumberFormat.E164)\n        except NumberParseException:\n            raise ValidationError('Invalid phone number')\n\n    def validate(self, value, model_instance):\n        super().validate(value, model_instance)\n        if value in self.empty_values:\n            return\n        try:\n            parsed_number = phonenumbers.parse(value, self.region)\n            if not phonenumbers.is_valid_number(parsed_number):\n                raise ValidationError('Invalid phone number')\n        except NumberParseException:\n            raise ValidationError('Invalid phone number')\n\nclass MyModel(models.Model):\n    phone_number = PhoneNumberField(region='US', blank=True, null=True, max_length=128)\n```\n\nIn this solution, we define the `PhoneNumberField` class as a subclass of `models.CharField` and override the `to_python` method to parse and format the phone number using the `phonenumbers` library. We also override the `validate` method to ensure that the phone number is valid and properly formatted according to the specified region. The `PhoneNumberField` class takes an optional `region` parameter to specify the default region for parsing and formatting the phone numbers."}
{"problem": "You are tasked with creating a Java class to manage contact information for a personal address book. The class should include methods to set and retrieve a person's telephone number and address. You are provided with a code snippet that declares private instance variables for the telephone number and address.\n\nYour task is to complete the Java class by adding the necessary methods to set and retrieve the telephone number and address. Additionally, you need to ensure that the telephone number and address are properly formatted and validated.\n\nComplete the following class:\n\n```java\npublic class ContactInformation {\n    private String telefon;\n    private String adres;\n\n    // Method to set the telephone number\n    public void setTelefon(String telefon) {\n        // Add code to validate and format the telephone number\n        // Ensure that the telephone number is in a valid format\n        // If the format is invalid, throw an IllegalArgumentException\n        // If the format is valid, set the telephone number\n    }\n\n    // Method to retrieve the telephone number\n    public String getTelefon() {\n        // Return the telephone number\n    }\n\n    // Method to set the address\n    public void setAdres(String adres) {\n        // Add code to validate and format the address\n        // Ensure that the address is in a valid format\n        // If the format is invalid, throw an IllegalArgumentException\n        // If the format is valid, set the address\n    }\n\n    // Method to retrieve the address\n    public String getAdres() {\n        // Return the address\n    }\n}\n```\n\nYour task is to complete the `setTelefon`, `getTelefon`, `setAdres`, and `getAdres` methods in the `ContactInformation` class. Ensure that the telephone number and address are properly validated and formatted according to the following rules:\n- The telephone number should be in the format \"XXX-XXX-XXXX\" (where X is a digit).\n- The address should not be empty and should be properly formatted.", "solution": "```java\npublic class ContactInformation {\n    private String telefon;\n    private String adres;\n\n    // Method to set the telephone number\n    public void setTelefon(String telefon) {\n        if (!telefon.matches(\"\\\\d{3}-\\\\d{3}-\\\\d{4}\")) {\n            throw new IllegalArgumentException(\"Invalid telephone number format. Please use XXX-XXX-XXXX format.\");\n        }\n        this.telefon = telefon;\n    }\n\n    // Method to retrieve the telephone number\n    public String getTelefon() {\n        return telefon;\n    }\n\n    // Method to set the address\n    public void setAdres(String adres) {\n        if (adres.isEmpty()) {\n            throw new IllegalArgumentException(\"Address cannot be empty.\");\n        }\n        // Add additional validation or formatting if required\n        this.adres = adres;\n    }\n\n    // Method to retrieve the address\n    public String getAdres() {\n        return adres;\n    }\n}\n```\n\nIn the solution, the `setTelefon` method uses a regular expression to validate the telephone number format. If the format is invalid, it throws an `IllegalArgumentException`. The `setAdres` method ensures that the address is not empty and can include additional validation or formatting as needed."}
{"problem": "You are tasked with implementing a user authentication system for a web application. The system should allow users to register with their phone number and nickname, and then authenticate using their registered phone number. You are provided with a code snippet that includes a partial implementation of the user authentication system. Your task is to complete the implementation by adding the necessary code to handle user registration and authentication.\n\nYou are given the following code snippet as a starting point:\n\n```python\n\"phone_num\": \"string\",\n\"nickname\": \"string\"\n},\n)\n# force_authenticate(request, user=self.user)\n```\n\nYour task is to:\n1. Implement a user registration endpoint that accepts a phone number and nickname, and stores this information in a user database.\n2. Implement an authentication endpoint that accepts a phone number and verifies if it exists in the user database.\n\nYour solution should include the necessary code to handle user registration and authentication based on the provided code snippet.", "solution": "```python\n# User registration endpoint\ndef register_user(request):\n    phone_number = request.POST.get('phone_num')\n    nickname = request.POST.get('nickname')\n    \n    # Check if the phone number is already registered\n    if User.objects.filter(phone_number=phone_number).exists():\n        return HttpResponse(\"Phone number already registered\", status=400)\n    \n    # Create a new user with the provided phone number and nickname\n    user = User(phone_number=phone_number, nickname=nickname)\n    user.save()\n    \n    return HttpResponse(\"User registered successfully\", status=200)\n\n# Authentication endpoint\ndef authenticate_user(request):\n    phone_number = request.POST.get('phone_num')\n    \n    # Check if the phone number exists in the user database\n    if User.objects.filter(phone_number=phone_number).exists():\n        return HttpResponse(\"User authenticated successfully\", status=200)\n    else:\n        return HttpResponse(\"User not found\", status=404)\n```\n\nIn the solution, the `register_user` function handles user registration by accepting the phone number and nickname from the request, checking if the phone number is already registered, and then creating a new user in the database. The `authenticate_user` function handles user authentication by accepting the phone number from the request and checking if it exists in the user database. Both functions return appropriate HTTP responses based on the registration and authentication outcomes."}
{"problem": "You are working on a Python application that handles user input for billing and shipping information. The application uses a validation function to ensure that certain fields are not left blank. The code snippet provided shows a part of the validation logic for the shipping information.\n\nThe `validate_shipping_telephon` function is responsible for validating the shipping telephone number. It checks if the shipping information is different from the billing information and then ensures that the telephone number is not left blank. If the shipping information is the same as the billing information, the telephone number can be left blank.\n\nYour task is to complete the validation logic by implementing the `validate_shipping_telephone` function. The function should perform the following checks:\n1. If the shipping information is different from the billing information, the `value` should not be None or an empty string. If it is, raise a `ValidationError` with the message \"This value cannot be left blank.\"\n2. If the shipping information is the same as the billing information, the `value` can be None or an empty string.\n\nImplement the `validate_shipping_telephone` function to fulfill these requirements.", "solution": "```python\nfrom rest_framework import exceptions\n\nclass ShippingInformationValidator:\n    def __init__(self, context):\n        self.context = context\n\n    def validate_shipping_telephone(self, value):\n        if self.context['is_shipping_different_then_billing']:\n            if value is None or value == '':\n                raise exceptions.ValidationError(\"This value cannot be left blank.\")\n        return value\n```\n\nIn the solution, the `ShippingInformationValidator` class is defined with the `validate_shipping_telephone` method. The method checks the `is_shipping_different_then_billing` flag in the context to determine whether the shipping information is different from the billing information. If it is different, the method validates the `value` to ensure it is not None or an empty string, raising a `ValidationError` if it is. If the shipping information is the same as the billing information, the method allows the `value` to be None or an empty string."}
{"problem": "You are tasked with creating a validation class for a user registration form in a PHP application. The class should implement validation rules for the following fields: names, lastnames, dni (national identification number), and phone number. The validation rules are as follows:\n- 'names' and 'lastnames' are required fields.\n- 'dni' is required, should have a maximum length of 9 characters, and must be alphanumeric.\n- 'phone' is required and must match the format: +51 followed by 9 digits.\n\nYour task is to implement the validation logic for the given fields based on the provided rules and ensure that the validation class can be easily integrated into the user registration process.", "solution": "```php\nclass UserValidation\n{\n    protected $data;\n\n    public function __construct($data)\n    {\n        $this->data = $data;\n    }\n\n    public function validate()\n    {\n        $errors = [];\n\n        if (empty($this->data['names'])) {\n            $errors['names'] = 'Names are required';\n        }\n\n        if (empty($this->data['lastnames'])) {\n            $errors['lastnames'] = 'Lastnames are required';\n        }\n\n        if (empty($this->data['dni'])) {\n            $errors['dni'] = 'DNI is required';\n        } elseif (strlen($this->data['dni']) > 9 || !ctype_alnum($this->data['dni'])) {\n            $errors['dni'] = 'DNI must be alphanumeric and have a maximum length of 9 characters';\n        }\n\n        if (empty($this->data['phone'])) {\n            $errors['phone'] = 'Phone number is required';\n        } elseif (!preg_match('/^(\\+51)[0-9]{9}$/', $this->data['phone'])) {\n            $errors['phone'] = 'Phone number must be in the format +51XXXXXXXXX';\n        }\n\n        return $errors;\n    }\n}\n\n// Example usage\n$userData = [\n    'names' => 'John',\n    'lastnames' => 'Doe',\n    'dni' => 'A12345678',\n    'phone' => '+51987654321'\n];\n\n$validator = new UserValidation($userData);\n$errors = $validator->validate();\n\nif (empty($errors)) {\n    echo 'User data is valid';\n} else {\n    echo 'Validation errors:';\n    print_r($errors);\n}\n```\nIn this solution, a UserValidation class is created to handle the validation of user registration data. The constructor accepts the user data, and the validate method applies the specified validation rules to the data. If any validation errors are found, they are collected in an array and returned. The example usage demonstrates how to instantiate the UserValidation class and handle the validation errors."}
